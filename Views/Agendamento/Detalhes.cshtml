@model AgendaTatiNails.Models.Agendamento

@{
    ViewData["Title"] = "Detalhes do Agendamento";
}

@section Styles {
    @* REMOVIDO: lista-servicos.css *@
    @* ADICIONADO: crud-page.css *@
    <link rel="stylesheet" href="~/css/Agendamento/crud-page.css" asp-append-version="true" />
    @* ADICIONADO: admin.css (para os badges de status) *@
    <link rel="stylesheet" href="~/css/Admin/admin.css" asp-append-version="true" />

    <style>
        /* Ajuste específico para os links de ação (Editar/Cancelar) */
        .details-actions {
             margin-top: 2rem;
             border-top: 1px solid #eee;
             padding-top: 1.5rem;
             display: flex;
             gap: 1rem;
        }
    </style>
}

<div class="crud-container">
    <div class="crud-card">

        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
             <h1 class="crud-title" style="text-align: left; margin: 0;">@ViewData["Title"]</h1>
             <a asp-action="ListaServico" asp-controller="Servico" class="btn btn-secondary">← Voltar para Lista</a>
        </div>
        
        <div class="confirmation-details">
            <dl>
                <dt>@Html.DisplayNameFor(model => model.Servico.Nome)</dt>
                <dd>@(Model.Servico?.Nome ?? "N/A")</dd>

                <dt>@Html.DisplayNameFor(model => model.DataHora)</dt>
                <dd>@Model.DataHora.ToString("dd/MM/yyyy 'às' HH:mm")</dd>

                <dt>@Html.DisplayNameFor(model => model.Status)</dt>
                <dd><span class="badge status-@(Model.Status?.ToLower() ?? "desconhecido")">@Html.DisplayFor(model => model.Status)</span></dd>

                <dt>@Html.DisplayNameFor(model => model.Servico.Preco)</dt>
                <dd>@(Model.Servico?.Preco.ToString("C", System.Globalization.CultureInfo.GetCultureInfo("pt-BR")) ?? "N/A")</dd>

                <dt>Duração Estimada</dt>
                <dd>@(Model.Servico?.DuracaoEmMinutos.ToString() ?? "N/A") minutos</dd>
            </dl>
        </div>

        <div class="details-actions">
            @* Redireciona para o AgendamentoController *@
            <a asp-controller="Agendamento" asp-action="Editar" asp-route-id="@Model.Id" class="btn btn-warning">Editar</a>
            <a asp-controller="Agendamento" asp-action="Excluir" asp-route-id="@Model.Id" class="btn btn-danger">Cancelar Agendamento</a>
        </div>

    </div>
</div>

@* Adiciona CSS para btn-warning se não estiver em site.css *@
@section Scripts {
    <style>
        .btn-warning {
             color: #000;
             background-color: #ffc107;
             border-color: #ffc107;
             padding: 0.6rem 1.2rem; border-radius: 8px; font-weight: 600;
             text-decoration: none; display: inline-flex; align-items: center;
             justify-content: center; transition: all 0.2s;
             font-family: var(--fonte-titulo); white-space: nowrap;
             border: 1px solid transparent;
        }
         .btn-warning:hover {
             color: #000;
             background-color: #ffca2c;
             border-color: #ffc720;
             transform: translateY(-2px);
         }
    </style>
}